#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” Running comprehensive checks before push..."

# Run more thorough tests
echo "ğŸ§ª Running all tests..."
npm run test:all || { echo "âŒ All tests failed"; exit 1; }

# Run build to verify
echo "ğŸ—ï¸ Verifying build..."
npm run build || { echo "âŒ Build failed"; exit 1; }

# Run security checks
echo "ğŸ”’ Running security checks..."
npm audit --audit-level=high || echo "âš ï¸ Security vulnerabilities found - review required"

echo "âœ… Comprehensive checks passed!"
